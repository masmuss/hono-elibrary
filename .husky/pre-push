#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "
âœ‹ Tunggu sebentar! Menjalankan semua unit test sebagai gerbang kualitas terakhir...
--------------------------------------------------------------------------
"

bun run test

exit_code=$?

echo "--------------------------------------------------------------------------"

if [ $exit_code -eq 0 ]; then
  echo "ðŸŽ‰ Mantap! Semua tes lolos. Kode aman untuk dikirim ke tujuan! ðŸš€"
else
  echo "ðŸ›‘ PUSH DIBATALKAN! Ada tes yang gagal."
  echo "   Perbaiki dulu tes yang gagal sebelum mencoba push lagi. Jaga kualitas! ðŸ’ª"
  exit 1
fi

exit 0